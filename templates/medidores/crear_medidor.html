{% extends 'base.html' %}

{% block title %}Nuevo Medidor - Sistema Eléctrico{% endblock %}

{% block page_title %}Crear Medidor{% endblock %}

{% block content %}
    <div>
        <a href="{% url 'sistemaGestion:lista_medidores' %}" class="boton boton-secundario">Volver</a>
    </div>

    <div class="tarjeta">
        <form method="post">
            {% csrf_token %}
            
            <div class="grupo-formulario">
                <label for="numero_medidor">Número de Medidor:</label>
                <input type="text" id="numero_medidor" name="numero_medidor" required placeholder="Ej: MED-001">
            </div>

            <div class="grupo-formulario">
                <label for="cliente">Cliente:</label>
                <select id="cliente" name="cliente" required>
                    <option value="">Seleccionar cliente</option>
                    {% for cliente in clientes %}
                        <option value="{{ cliente.idCliente }}">{{ cliente.nombre }} ({{ cliente.numero_cliente }})</option>
                    {% endfor %}
                </select>
            </div>

            <div class="grupo-formulario">
                <label for="estado_medidor">Estado del Medidor:</label>
                <select id="estado_medidor" name="estado_medidor" required>
                    <option value="">Seleccionar estado</option>
                    <option value="Activo">Activo</option>
                    <option value="Inactivo">Inactivo</option>
                    <option value="Mantenimiento">Mantenimiento</option>
                </select>
            </div>

            <div class="grupo-formulario">
                <label for="fecha_instalacion">Fecha de Instalación:</label>
                <input type="date" id="fecha_instalacion" name="fecha_instalacion" required>
            </div>

            <div class="grupo-formulario">
                <label for="ubicacion">Ubicación:</label>
                <textarea id="ubicacion" name="ubicacion" rows="3" required></textarea>
            </div>

            <button type="submit" class="boton boton-primario">Guardar Medidor</button>
        </form>
    </div>
{% endblock %}

